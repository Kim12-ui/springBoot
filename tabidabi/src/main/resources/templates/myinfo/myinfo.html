<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>내 정보 수정</title>
<link rel="stylesheet" th:href="@{/css/home.css}">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
<script th:src="@{/js/myinfo/myinfoForm.js}"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link th:href="@{/css/styles.css}" rel="stylesheet">
<link th:href="@{/css/allpage.css}" rel="stylesheet">
<link th:href="@{/css/myinfo/myinfo.css}" rel="stylesheet">
</head>
<body>
	<header>
		<nav class="main_nav">
			<a th:href="@{/}"><img th:src="@{/images/로고.png}" alt="로고"></a>
			<div class="nav_container">
				<a href="#" id="scrollToPackage">인기패키지</a> <a href="#"
					id="scrollToTip">여행 팁</a> <a th:href="@{/community/list}">커뮤니티</a>
				<th:block sec:authorize="not isAuthenticated()">
					<a th:href="@{/member/login}">로그인</a>
				</th:block>
				<th:block sec:authorize="isAuthenticated()">
					<div class="dropdown">
						<a href="#" class="dropbtn">내 정보보기</a>
						<div class="dropdown-content">
							<a th:href="@{/myinfo/myinfo}">개인정보수정</a> <a
								th:href="@{/myinfo/sharingroom_list}">나의 일정공유방 리스트</a> <a
								th:href="@{/myinfo/community}">커뮤니티 관리</a> <a
								th:href="@{/myinfo/ourtrip}">우리의 여행일지</a> <a
								th:href="@{/member/logout}">로그아웃</a>
						</div>
					</div>
				</th:block>
			</div>
		</nav>
	</header>

	<div class="pageName2">
		<h2 th:text="${member.nickname} + '님의 개인정보수정'">커뮤니티</h2>
		<hr width="90%">
	</div>

	<div class="profile-container">
    <form th:action="@{/myinfo/myinfo}" method="post" enctype="multipart/form-data">
        <div class="profile-image-container">
            <div class="profile-image" id="profile-image" onclick="document.getElementById('file-input').click();">
                <input type="file" id="file-input" name="file" accept="image/*" style="display: none;" onchange="loadFile(event)">
                <!-- <img id="preview" th:src="@{'http://localhost:4444/tabidabi/representativeimage/' + ${member.profileImage}}"
     			alt="Profile Image" style="display:none;"> -->
     			<img id="preview" th:src="@{'/representativeimage/'+${member.profileImage}}"
     			alt="Profile Image" style="display:none;">
                <div id="no-image">이미지가 없습니다</div>
            </div>
            <div class="profile-image-label">프로필 사진 바꾸기</div>
        </div>
        
        <div class="profile-info">
            <div class="input-group">
                <label for="username">아이디</label>
                <input type="text" id="username" name="memberId" placeholder="아이디 입력" th:value="${member.memberId}" readonly>
            </div>
            <div class="input-group">
                <label for="password">비밀번호</label>
                <input type="password" id="password" name="password" placeholder="비밀번호 입력">
            </div>
            <div class="input-group">
                <label for="check-password">비밀번호 확인</label>
                <input type="password" id="check-password" name="checkPassword" placeholder="비밀번호 확인 입력">
            </div>
            <div class="input-group">
                <label for="email">이메일</label>
                <input type="text" id="email" name="email" placeholder="이메일 입력" th:value="${member.email}">
            </div>
            <div class="input-group">
                <label for="nickname">닉네임</label>
                <input type="text" id="nickname" name="nickname" placeholder="닉네임 입력" th:value="${member.nickname}">
            </div>
            <div class="button-group">
                <button type="submit">수정하기</button>
                <button type="button" onclick="resetForm()">다시 쓰기</button>
            </div>
        </div>
    </form>
</div>


</body>
</html>
