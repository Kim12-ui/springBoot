<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>방명록</title>
		<style>
			h2 {
				text-align: center;
			}
			table {
				margin: auto;
				text-align: center;
			}
		</style>
		<script>
			function deleteFunc(paramNum,inputId) {
				const paramPw = document.getElementById(inputId).value;
				location.href='delete?num='+paramNum+"&password="+paramPw;
			}
		</script>
	</head>
	<body>
		<h2>방명록</h2>
		
		<table>
			<tr>
				<th>글번호</th>
				<th>작성자</th>
				<th>비밀번호</th>
				<th>작성글</th>
				<th>작성시간</th>
				<th>비밀번호 작성</th>
				<th>삭제</th>
			</tr>
			<tr th:each="guest, iterStat:${guestList}">
				<td><span th:text="${guest.num}"></span></td>
				<td><span th:text="${guest.name}"></span></td>
				<td><span th:text="${guest.password}"></span></td>
				<td><span th:text="${guest.message}"></span></td>
				<td><span th:text="${guest.inputdate}"></span></td>
				<td>
					<input type="text" id="passwordInput_${guest.num}" placeholder="비밀번호를 입력하세요">
				</td>
				<td>
					<input type="button" value="삭제"
					th:tnum="${guest.num}"
					th:onclick="deleteFunc(this.getAttribute('tnum'),passwordInput_${guest.num})">
				</td>
			</tr>
		</table>
	</body>
</html>